<div class="d-flex justify-content-between mt-3">
  <!-- 編集・削除 -->
  <div class="btn-group">
    <%= link_to "編集", edit_daily_report_path(@daily_report), class: "btn btn-warning btn-sm" %>
    <%= link_to "削除", daily_report_path(@daily_report), method: :delete, data: { confirm: "本当に削除しますか？" }, class: "btn btn-danger btn-sm" %>
  </div>

  <!-- 共有オプション -->
  <div class="btn-group">
    <button class="btn btn-outline-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#shareModal">
      共有する
    </button>
  </div>

  <!-- 履歴と復元 -->
  <% if @daily_report.previous_report.present? %>
    <%= link_to "履歴を表示", daily_report_path(@daily_report.previous_report), class: "btn btn-outline-primary btn-sm" %>
  <% end %>

  <!-- お気に入り登録 -->
  <%= button_to "お気に入りに追加", favorite_daily_report_path(@daily_report), method: :post, class: "btn btn-outline-success btn-sm" %>
</div>

<!-- 共有モーダル -->
<div class="modal fade" id="shareModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">日報を共有</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>共有リンク:</p>
        <input type="text" class="form-control" value="<%= request.original_url %>" readonly>
        <p class="mt-3">SNSに共有:</p>
        <a href="https://twitter.com/intent/tweet?text=この日報をチェック！ <%= request.original_url %>" target="_blank" class="btn btn-info btn-sm">
          Twitter
        </a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=<%= request.original_url %>" target="_blank" class="btn btn-primary btn-sm">
          Facebook
        </a>
      </div>
    </div>
  </div>
</div>
