<h3>成長の推移</h3>
<canvas id="growthChart"></canvas>

<script>
document.addEventListener("DOMContentLoaded", function () {
  let ctx = document.getElementById('growthChart');
  if (ctx) {
    fetch('/daily_reports/growth_data.json')  // ✅ 日報の成長データを取得
      .then(response => response.json())
      .then(data => {
        new Chart(ctx, {
          type: 'line',
          data: {
            labels: data.dates,
            datasets: [
              {
                label: "総コード量",
                data: data.code_lines,
                borderColor: "rgba(75, 192, 192, 1)",
                fill: false
              },
              {
                label: "改善回数",
                data: data.improvements,
                borderColor: "rgba(255, 99, 132, 1)",
                fill: false
              }
            ]
          },
          options: { responsive: true }
        });
      });
  }
});
</script>